<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Floating Point Conversions and Tools</title>
    <script src="./js/float.js"></script>
    <script src="./js/twos_comp.js"></script>
    <script src="./js/hex_convert.js"></script>
    <link rel="stylesheet" type="text/css" href="styles.css">
  </head>
  <body>
    <div class="container" id="calc-container">
      <div class="header" id="header">
        <h1>Floating Point Conversions and Tools</h1>
        <p>A series of tools for dealing with floating point values in day to day life</p>
      </div>
      <div class="row" id="row_1">
        <div class="item" id="floating point conversion"> 
          <div id="floatingPointSelector"> 
            <p>
              This is for floating point conversions. Custom is for setting desired exponent widths "ew" and mantissa widths "mw". 
              The output is given in decimal and coloured binary beneath. 
              If "ew" and "mw" are empty the hexadecimal input asssume F16, F32 or F64 inputs 
            </p>
            <button id="custom" onclick="selectType('custom')">Custom</button>
            <button id="F16" onclick="selectType('F16')">F16</button>
            <button id="F32" onclick="selectType('F32')">F32</button>
            <button id="BF16" onclick="selectType('BF16')">BF16</button>
            <button id="TF32" onclick="selectType('TF32')">TF32</button>
            <button id="F64" onclick="selectType('F64')">F64</button>

          </div>
        
          <div id="customInputs">
            <label for="ew">EW:</label>
            <input type="number" id="ew" disabled><br><br>
          
            <label for="mw">MW:</label>
            <input type="number" id="mw" disabled><br><br>
          </div>
        
          <label for="h">Hex Value (h):</label>
          <input type="text" id="h"><br><br>  
        
          <button onclick="convert()">Convert</button><br><br>
          <label for="result">Result:</label>
          <input type="text" id="result" readonly><br>
          <br>
           <div id="binaryDisplay"> 
          </div>
        </div>

        <div class="item" id="twos complement">
          <p>This returns the decimal value for an input in twos complement form</p>
          <label for="binaryInput">Binary input</label>
          <input type="text" id="binaryInput" dir="rtl" oninput="call_twos_to_dec()"><br></br>
          <label for="decimalOutput">Decimal output</label>
          <input type="text" id="decimalOutput" readonly><br>
        </div>


        <div class="item" id="hex-to-binary">
          <p>This just converts hexadecimal to binary for quick checksy</p>
          <label for="hexInput">Hex input</label>
          <input type="text" id="hexInput" oninput="call_hex_bin_row1()"><br><br>
          <label for="binOutput">Binary output</label>
          <input type="text" id="binOutput" maxlength="32" readonly><br>
        </div>


      </div>
    </div>
  </body>
</html>


//<script>
//  function call_hex_bin() {
//    var hexStr = document.getElementById("hexInput").value;
//    var binStr = '';
//
//    for (var i = 0; i < hexStr.length; i++) {
//    var binDigit = parseInt(hexStr[i], 16).toString(2);
//
//    binDigit = binDigit.padStart(4, '0');
//    binStr += binDigit;
//    }
//
//    document.getElementById("binOutput").value = binStr;
//  }
//</script>